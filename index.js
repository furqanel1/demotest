const urls=["https://polls-phji.onrender.com"];var UPVOTERS_URL="https://dl.dropboxusercontent.com/scl/fi/87euv37t2pdeipwqceq6p/likers.txt?rlkey=mc6uvkyq5fbx2zjveqfun6r8e";function em(e){return document.querySelector(e)}function hideAllacBtns(...e){document.querySelectorAll(".ac_btn").forEach(e=>{e.style.display="none"}),e.forEach(e=>{e.style.display="block"})}function formatNumberShort(e){return e>=1e5?Math.floor(e/1e3)+"k":e>=1e3?e%100==0?e/1e3+"k":Math.floor(e/100)/10+"k":e.toString()}function show_a_v(){getConfirm("About Verification","Verification tag is given to polls which are having well related options and acceptable question, the poll should not be spam or junk then it will be verified after a manual checkup. ",null,"ok",()=>{},()=>{})}async function verifyPoll(e,t){try{let n=await fetch(API_URL+"/verify",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({poll_id:e})});if(!n.ok)return{status:!1,message:"Failed to unverify poll"};{let o=await n.json();return o}}catch(a){return{status:!1,message:"Failed to unverify poll"}}}async function unverifyPoll(e,t){try{let n=await fetch(API_URL+"/unverify",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({poll_id:e})});if(!n.ok)return{status:!1,message:"Failed to unverify poll"};{let o=await n.json();return o}}catch(a){return{status:!1,message:"Failed to unverify poll"}}}function searchQueries(e,t){return new Promise((n,o)=>{fetch(API_URL+`/getPollSearchTitles?query=${e}`,{headers:{Authorization:`Bearer ${t}`}}).then(e=>(e.ok,e.json())).then(e=>{n(e)}).catch(e=>{o(e)})})}function deleteComment(e,t){return new Promise((n,o)=>{let a=API_URL+"/comment/delete";fetch(a,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({comment_id:e})}).then(e=>e.json()).then(e=>{e.status?n("Comment deleted successfully"):o("Comment not found or unauthorized to delete")}).catch(e=>{o(`Error deleting comment: ${e}`)})})}async function getPollLikers(e,t,n=0){try{let o=await fetch(API_URL+`/get_likers?poll_id=${e}&limit=50&page=${n}`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!o.ok)return openErrorPopup("ERROR_FT","error Fetching likers"),[];{let a=await o.json();return a.likers}}catch(l){return openErrorPopup("ERROR_FT","error Fetching likers"),[]}}function generateJWT(e){var t={exp:Math.floor(Date.now()/1e3)+30};function n(e){var t=CryptoJS.enc.Base64.stringify(e);return(t=(t=t.replace(/=+$/,"")).replace(/\+/g,"-")).replace(/\//g,"_")}var o=n(CryptoJS.enc.Utf8.parse(JSON.stringify({alg:"HS256",typ:"JWT"}))),a=CryptoJS.enc.Utf8.parse(JSON.stringify(t)),l=n(a),r=o+"."+l;return r=n(r=CryptoJS.HmacSHA256(r,e)),o+"."+l+"."+r}function hideAllacInputs(...e){document.querySelectorAll(".ic_in").forEach(e=>{e.style.display="none"}),e.forEach(e=>{e.style.display="flex"})}async function get_comments(e,t=0,n=30,o){try{let a=API_URL+`/comment/get?poll_id=${e}&page=${t}&limit=${n}`,l=await fetch(a,{method:"GET",headers:{Authorization:`Bearer ${o}`,Search:generateJWT("sr_comm_furqan_kt_mn_dyndx")}}),r=await l.json();return r.comments}catch(s){throw openErrorPopup("ERROR_FT","error Fetching comments"),s}}function process_comments(e,t,n,o){e.forEach((a,l)=>{var r=document.createElement("div");r.classList.add("liked_by_dialog-likers-item");var s=document.createElement("div");s.classList.add("liked_by_dialog-likers-avatar"),s.style.width="45px",s.style.height="45px",s.textContent=a.name.trim()[0];var d=document.createElement("div");d.classList.add("liked_by_dialog-likers-info");var c=document.createElement("div");c.classList.add("options_of_comment");var p=document.createElement("div");p.classList.add("liked_by_dialog-likers-name"),p.textContent=a.name;let u=document.createElement("i");u.classList.add("fas"),u.classList.add("fa-trash-alt"),u.onclick=function(){getConfirm("Confirm Delete","Do you want to delete this comment","Delete","Cancel",()=>{deleteComment(a._id,accessToken).then(e=>{r.parentNode.removeChild(r)}).catch(e=>{openErrorPopup("ERROR_DELETE_COMM","error deleting comment")})},()=>{})};var m=document.createElement("div");m.classList.add("liked_by_dialog-comm-time"),m.textContent=formatTimestamp(a.commented_at);var h=document.createElement("div");if(h.classList.add("liked_by_dialog-likers-polls"),h.textContent=a.text,c.appendChild(p),(ID==a.comment_user_id||PRIVILEGES[1])&&c.appendChild(u),d.appendChild(c),d.appendChild(m),d.appendChild(h),r.appendChild(s),r.appendChild(d),30===e.length&&l===e.length-2){let v=new IntersectionObserver((e,a)=>{e.forEach(e=>{if(e.isIntersecting){t.innerHTML+=`
<div class="gen_l_d">
           <div class="gen_loader"></div>
       </div> 

`;var l=n+1;get_comments(o,l,30,accessToken).then(e=>{t.querySelector(".gen_l_d")&&(t.querySelector(".gen_l_d").outerHTML=""),0===e.length?t.innerHTML+='<div class="no_comments"><center>No More Comments</center></div>':process_comments(e,t,l,o)}).catch(e=>{console.error("Error:",e)}),a.unobserve(e.target)}})});v.observe(r)}t.appendChild(r)})}function postComment(e,t,n){let o=API_URL+"/comment/post",a={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,Key:generateJWT("sr_comm_furqan_kt_mn_dyndx")},body:JSON.stringify({poll_id:e,text:t})};return fetch(o,a).then(e=>e.json()).then(e=>e).catch(e=>{throw openErrorPopup("ERROR_PO_COMM","error posting comment"),e})}function openDialog(e,t){return new Promise(function(n){let o=document.createElement("div");o.classList.add("general_dialog_modal-overlay");let a=document.createElement("div");a.classList.add("general_dialog_modal-container");let l=document.createElement("div");l.classList.add("general_dialog_modal-top-options");let r=document.createElement("div");r.classList.add("general_dialog_modal-top-text"),r.textContent=t;let s=document.createElement("div");s.classList.add("general_dialog_modal-top-close"),s.innerHTML='<i class="fas fa-times liked_by_open"></i>',s.addEventListener("click",function(){o.parentNode.removeChild(o)}),l.appendChild(r),l.appendChild(s);let d=document.createElement("div");d.classList.add("general_dialog_modal-content");let c=document.createElement("div");c.classList.add("general_dialog_modal-bottom-content"),a.appendChild(l),a.appendChild(d),a.appendChild(c),o.appendChild(a),e.appendChild(o),n({overlay:o,container:a,topOptions:l,topTextElement:r,topClose:s,content:d,bottomContent:c}),o.style.display="block"})}function getVoters(e,t,n=0,o=50){let a=API_URL+"/voters/v2?page="+n+"&limit="+o;return fetch(a,{method:"POST",headers:{Authorization:"Bearer "+t,"Content-Type":"application/json"},body:JSON.stringify({poll_id:e})}).then(e=>(e.ok||openErrorPopup("ERROR_SW","Something is not right"),e.json())).then(e=>e).catch(e=>(openErrorPopup("ERROR_d","error"),{status:!1,error:"An error occurred while fetching voters."}))}function deletePoll(e,t){let n=API_URL+"/delete";return new Promise((o,a)=>{fetch(n,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({poll_id:e})}).then(e=>e.json()).then(e=>{e.status?o(e):a(Error(e.error))}).catch(e=>{a(e)})})}function process_voters(e,t,n){var o=document.querySelector(".bottom_dialog_sheet-content");o.querySelector(".gen_l_d")&&(o.querySelector(".gen_l_d").outerHTML="");var a=n+1;if(e.status){let l=e.voters;document.querySelector(".bottom_dialog_sheet-content").querySelector(".ld_mr_div")&&(document.querySelector(".bottom_dialog_sheet-content").querySelector(".ld_mr_div").outerHTML=""),l.forEach((e,n)=>{let o=document.createElement("div");o.className="bottom_dialog_sheet-voter";let r=document.createElement("div");r.className="bottom_dialog_sheet-avatar",r.textContent=e.name.trim()[0];let s=document.createElement("div");s.className="bottom_dialog_sheet-info";let d=document.createElement("div");d.className="bottom_dialog_sheet-name",d.textContent=e.name;let c=document.createElement("div");c.className="bottom_dialog_sheet-polls",c.textContent=`${formatNumberShort(e.pollCount)} polls â€¢ ${formatNumberShort(e.voteCount)} votes`,s.appendChild(d),s.appendChild(c),o.appendChild(r),o.appendChild(s);let p=document.querySelector(".bottom_dialog_sheet-content");if(n===l.length-2&&50===l.length){let u=new IntersectionObserver((e,n)=>{e.forEach(e=>{e.isIntersecting&&(em(".bottom_dialog_sheet-content").innerHTML+=`
<div class="gen_l_d">
           <div class="gen_loader"></div>
       </div> 

`,getVoters(t,accessToken,a,50).then(e=>{process_voters(e,t,a)}),n.unobserve(e.target))})});u.observe(o)}p.appendChild(o)});let r=document.getElementById("closeDialogBtn"),s=document.getElementById("bottomSheetDialog");r.addEventListener("click",()=>{s.classList.remove("open")})}else openErrorPopup("ERROR_AR","error")}function likePoll(e,t){let n=API_URL+"/like",o={Authorization:`Bearer ${t}`,"Content-Type":"application/json"};return fetch(n,{method:"POST",headers:o,body:JSON.stringify({poll_id:e})}).then(e=>(e.ok||openErrorPopup("ERROR_LK","error liking poll "),e.json())).then(e=>e).catch(e=>{throw openErrorPopup("ERROR_LK2","error LIKING poll"),e})}function process_likers(e,t,n,o){var a=n+1;o.querySelector(".gen_l_d")&&(o.querySelector(".gen_l_d").querySelector(".gen_loader").outerHTML=""),e.forEach((n,l)=>{var r=document.createElement("div");r.classList.add("liked_by_dialog-likers-item");var s=document.createElement("div");s.classList.add("liked_by_dialog-likers-avatar"),s.textContent=n.name.trim()[0];var d=document.createElement("div");d.classList.add("liked_by_dialog-likers-info");var c=document.createElement("div");c.classList.add("liked_by_dialog-likers-name"),c.textContent=n.name;var p=document.createElement("div");if(p.classList.add("liked_by_dialog-likers-polls"),p.textContent="Thank You",d.appendChild(c),r.appendChild(s),r.appendChild(d),o.appendChild(r),l===e.length-2&&50===e.length){let u=new IntersectionObserver((e,n)=>{e.forEach(e=>{e.isIntersecting&&(o.innerHTML+=` <div class="gen_l_d">
           <div class="gen_loader"></div>
       </div> `,getPollLikers(t,accessToken,a).then(e=>{0===e.length?(o.querySelector(".gen_l_d")&&(o.querySelector(".gen_l_d").querySelector(".gen_loader").outerHTML=""),o.innerHTML+='<div class="no_likes_div"><center>No More data!</center></div>'):process_likers(e,t,a,o)}).catch(e=>{openErrorPopup("ERROR_a","error")}),n.unobserve(e.target))})});u.observe(r)}})}function unlikePoll(e,t){let n=API_URL+"/unlike",o={Authorization:`Bearer ${t}`,"Content-Type":"application/json"};return fetch(n,{method:"POST",headers:o,body:JSON.stringify({poll_id:e})}).then(e=>(e.ok||openErrorPopup("ERROR_UT","cant unlike poll"),e.json())).then(e=>e).catch(e=>{throw openErrorPopup("ERROR_XT","error unliking poll"),e})}Object.defineProperty(window,"API_URL",{get:function(){let e=Math.floor(Math.random()*urls.length);return urls[e]}});var page_num=0,filter_num="most_voted",tour=!1;function processData(e,t=!1){t||(pollContainer.innerHTML="",em(".ld_mr_div").style.display="none"),e.forEach((t,n)=>{var o=!1;let a=document.createElement("div");a.classList.add("wrapper"),n===e.length-2&&e.length;let l=t[0];pids.push(t[0]);let r=t[1],s=t[2],d=t[3],c=t[4],p=t[5],u=t[6],m=t[7];var h=t[8],v=t[9];let g=t[10];c.forEach(e=>{e[3]&&(o=!0)});let f=c.reduce((e,t)=>e+t[2],0),y=document.createElement("div");y.classList.add("at_top");let E=document.createElement("div");E.classList.add("at_top_has_title");let b=document.createElement("div");b.classList.add("at_top_has_options");let L=document.createElement("i");L.classList.add("fa"),L.classList.add("fa-shield-alt","verify_poll_icon"),m?(L.classList.add("verified"),L.setAttribute("verified","verified")):L.setAttribute("verified",""),L.onclick=function(){"verified"==L.getAttribute("verified")?(L.setAttribute("verified",""),L.classList.remove("verified"),unverifyPoll(l,accessToken).then(e=>{e.status?S.style.display="none":(L.classList.add("verified"),openErrorPopup("error","Error while unverifying, "+e.meessage))}).catch(e=>{L.classList.add("verified"),openErrorPopup("error","Error while unverifying")})):(L.setAttribute("verified","verified"),L.classList.add("verified"),verifyPoll(l,accessToken).then(e=>{e.status?S.style.display="block":(L.classList.remove("verified"),openErrorPopup("error","Error while verifying, "+e.error))}).catch(e=>{L.classList.remove("verified"),openErrorPopup("error","Error while verifying")}))};let C=document.createElement("i");C.classList.add("fas"),ID==r||PRIVILEGES[1]?(C.classList.add("fa-trash-alt"),C.onclick=function(){getConfirm("Confirm Delete",`Do you want to delete the poll  <b>"${d} "</b>, this action can't be undone once done`,"Delete","Cancel",()=>{deletePoll(l,accessToken).then(()=>{getConfirm("Success","Poll was deleted successfully",null,"ok",()=>{},()=>{}),a.parentNode.removeChild(a)}).catch(e=>{openErrorPopup("ERROR_DL","error")})},()=>{})}):(C.classList.add("fa-flag"),C.onclick=function(){getConfirm("Do you want to report?","Make sure this poll goes against our terms and conditions?","Yes","No",()=>{openModal(l)},()=>{})}),PRIVILEGES[0]&&b.appendChild(L),b.appendChild(C);let k=document.createElement("p");k.classList.add("ques"),k.textContent=d,E.appendChild(k),y.appendChild(E),y.appendChild(b),a.appendChild(y);let T=[];c.forEach(e=>{let t=e[0],n=e[1],r=e[2],s=e[3],d=document.createElement("button");d.setAttribute("data-poll-option-id",t),d.setAttribute("data-assoc-poll-id",l),d.classList.add("options"),1===s&&d.classList.add("clicked");let c=document.createElement("b");c.classList.add("filler"),d.appendChild(c);let p=document.createElement("span");p.textContent=n,d.appendChild(p);let u=document.createElement("b");u.classList.add("num_v"),u.textContent=0===f?"0%":`${Math.round(r/f*100)}%`,d.appendChild(u),c.style.width=0===f?"0%":`${r/f*100}%`,o&&(c.style.visibility="visible",u.style.visibility="visible"),a.appendChild(d),T.push(d)});let R=document.createElement("poll_bottom");R.classList.add("poll_bottom");let $=document.createElement("div");$.classList.add("poll_bottom_b");let _=document.createElement("div");for(_.classList.add("all_tags"),i=0;i<u.length;i++){let x=document.createElement("div");x.classList.add("poll_bt_tag"),x.textContent="#"+u[i],_.appendChild(x)}$.appendChild(_);let P=document.createElement("div");P.classList.add("bt_extra");let w=document.createElement("div");w.classList.add("poll_bt_votes"),w.setAttribute("data-assoc-poll-id",l),w.innerHTML=`<span>${formatNumberShort(f)} Votes </span> <i class="fas fa-vote-yea"></i>`,w.addEventListener("click",()=>{bottomSheetDialog.classList.add("open"),em(".bottom_dialog_sheet-content").innerHTML=`
<div class="gen_l_d">
           <div class="gen_loader"></div>
       </div> 

`,getVoters(l,accessToken,0,50).then(e=>{em(".bottom_dialog_sheet-content").querySelector(".gen_l_d").outerHTML="",process_voters(e,l,0)})}),P.appendChild(w);let S=document.createElement("div");S.onclick=show_a_v,S.classList.add("poll_bt_verified"),S.innerHTML=' <span>Verified</span> <i class="fas fa-shield-alt"></i>',P.appendChild(S),m||(S.style.display="none"),$.appendChild(P),R.appendChild($);let M=document.createElement("div");M.classList.add("owners_area_cont");let O=document.createElement("div");O.classList.add("poll_bt_time"),O.textContent=formatTimestamp(p),M.appendChild(O);let q=document.createElement("div");q.classList.add("owners_area");let A=document.createElement("div");A.classList.add("owners_circle"),A.textContent=s.trim().split("")[0],q.appendChild(A);let I=document.createElement("p");I.classList.add("ownerId"),I.classList.add("poll_bt_owner"),I.setAttribute("data-ownerId",r),I.textContent=`${s}`,I.onclick=function(){};let B=()=>{T.forEach((e,t)=>{let n=e.querySelector(".num_v"),o=e.querySelector(".filler");o.style.width=0,n.style.visibility="hidden",o.style.visibility="hidden",e.classList.contains("clicked")&&(e.classList.remove("clicked"),f--,c[t][2]--,c[t][3]=0,w.innerHTML=formatNumberShort(f)+' Votes <i class="fas fa-vote-yea"></i>')})};T.forEach((e,t)=>e.addEventListener("click",()=>{if(e.classList.contains("clicked")){B();let n=API_URL+"/unvote",o={poll_id:e.getAttribute("data-assoc-poll-id")};fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+accessToken},body:JSON.stringify(o)}).then(e=>e.json()).then(e=>{}).catch(e=>{openErrorPopup("ERROR_T","error")})}else{B(),e.classList.add("clicked"),c[t][2]++,c[t][3]=0,f++,w.innerHTML=formatNumberShort(f)+' Votes <i class="fas fa-vote-yea"></i>';let a=API_URL+"/vote",l={voted_option_id:e.getAttribute("data-poll-option-id"),voted_poll_id:e.getAttribute("data-assoc-poll-id")};fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+accessToken},body:JSON.stringify(l)}).then(e=>e.json()).then(e=>{}).catch(e=>{openErrorPopup("ERROR_Z","error")});for(let r=0;r<T.length;r++){let s=T[r].querySelector(".num_v"),d=T[r].querySelector(".filler");s.style.visibility="visible",d.style.visibility="visible";let p=`${calc_perc(c[r][2],f)}%`;d.style.width=p,s.textContent=p}}}));var H=document.createElement("div");H.classList.add("last_bottom_stat_likes_box");var N=document.createElement("i");N.classList.add("fas","fa-thumbs-up");var j=document.createElement("span");j.textContent=formatNumberShort(h),N.onclick=function(){N.classList.contains("liked")?(N.classList.remove("liked"),j.classList.remove("liked"),j.innerText=formatNumberShort(h-1),h-=1,unlikePoll(l,accessToken).then(e=>{}).catch(e=>{openErrorPopup("ERROR_V","error")})):(N.classList.add("liked"),j.classList.add("liked"),j.innerText=h+1,h+=1,likePoll(l,accessToken).then(e=>{}))},g&&(N.classList.add("liked"),j.classList.add("liked")),j.onclick=function(){openDialog(em(".polls_home_u"),"Liked By").then(function(e){e.overlay,e.container;let t=e.content;e.bottomContent,t.innerHTML=`
<div class="gen_l_d">
           <div class="gen_loader"></div>
       </div> 

`,getPollLikers(l,accessToken,0).then(e=>{(t.innerHTML="",0===e.length)?(t.querySelector(".gen_l_d")&&(t.querySelector(".gen_l_d").querySelector(".gen_loader").outerHTML=""),t.innerHTML='<div class="no_likes_div"><center>No likes yet!</center></div>'):process_likers(e,l,0,t)}).catch(e=>{openErrorPopup("ERROR_XTT","error")})})},H.appendChild(N),H.appendChild(j);var D=document.createElement("div");D.classList.add("last_bottom_stat_comments_box");var z=document.createElement("i");z.classList.add("fas","fa-comment");var G=document.createElement("span");G.textContent=formatNumberShort(v),D.onclick=function(){openDialog(em(".polls_home_u"),"Comments").then(function(e){e.overlay,e.container;let t=e.content,n=e.bottomContent;t.innerHTML=`
<div class="gen_l_d">
           <div class="gen_loader"></div>
       </div> 

`;var o=document.createElement("div");o.className="comment_post_div";var a=document.createElement("input");a.type="text",a.className="comment_post_div-input",a.placeholder="Add a comment...";var r=document.createElement("i");r.className="fa fa-paper-plane comment_post_div-icon";var s=document.createElement("div");s.className="loader loader_of_comment_posting",s.style.display="none",s.style.color="rgba(62, 130.352, 243, 1)",o.appendChild(a),o.appendChild(r),o.appendChild(s),n.appendChild(o),r.onclick=function(){a.value.length<141&&a.value.length>0?(r.style.display="none",s.style.display="block",postComment(l,a.value,accessToken).then(e=>{if(r.style.display="block",s.style.display="none",t.querySelector(".no_comments")&&(t.querySelector(".no_comments").outerHTML=""),e.status){var n=document.createElement("div");n.classList.add("liked_by_dialog-likers-item");var o=document.createElement("div");o.classList.add("liked_by_dialog-likers-avatar"),o.style.width="45px",o.style.height="45px",o.textContent=NAME.trim()[0];var l=document.createElement("div");l.classList.add("liked_by_dialog-likers-info");var d=document.createElement("div");d.classList.add("options_of_comment");var c=document.createElement("div");c.classList.add("liked_by_dialog-likers-name"),c.textContent=NAME;let p=document.createElement("i");p.classList.add("fas"),p.classList.add("fa-trash-alt"),p.onclick=function(){getConfirm("Confirm Delete","Do you want to delete this comment","Delete","Cancel",()=>{deleteComment(e._id,accessToken).then(e=>{n.parentNode.removeChild(n)}).catch(e=>{openErrorPopup("error","Can't Delete Comment, maybe it doesn't exist")})},()=>{})};var u=document.createElement("div");u.classList.add("liked_by_dialog-comm-time"),u.textContent="now";var m=document.createElement("div");m.classList.add("liked_by_dialog-likers-polls"),m.textContent=a.value,d.appendChild(c),d.appendChild(p),l.appendChild(d),l.appendChild(u),l.appendChild(m),n.appendChild(o),n.appendChild(l),t.prepend(n),a.value="",t.scrollTop=0}else openErrorPopup("ERROR_POT","error posting comment")}).catch(e=>{r.style.display="block",s.style.display="none",openErrorPopup("ERROR_POT","error posting comment")})):openErrorPopup("Sorry","Value should be 1-140")},get_comments(l,0,30,accessToken,l).then(e=>{t.querySelector(".gen_l_d")&&(t.querySelector(".gen_l_d").outerHTML=""),0===e.length?t.innerHTML='<div class="no_comments"><center>No comments yet!</center></div>':process_comments(e,t,0,l)}).catch(e=>{openErrorPopup("ERROR_PA","error ")})})},D.appendChild(z),D.appendChild(G);var V=document.createElement("div");V.classList.add("last_bottom_stat"),V.appendChild(H),V.appendChild(D),q.appendChild(I),M.appendChild(q),R.appendChild(M),a.appendChild(R),a.appendChild(V),pollContainer.appendChild(a),0!==n||user_tour||(user_tour=!0,introJs().setOptions({steps:[{element:w,intro:"Click to see who voted"},{element:N,intro:"Click to like/unlike poll"},{element:j,intro:"Click to see who liked"}]}).start())})}async function searchPolls(e,t){pollContainer.innerHTML=`<div class="gen_l_d vertical_center_x">
           <div class="gen_loader"></div>
       </div> `;try{let n=await fetch(API_URL+`/search/v4?query=${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Search:generateJWT("sr_search_furqan_kt_mn_dyndx")}});if(!n.ok)throw Error(`Error searching polls: ${n.statusText}`);let o=await n.json();return o.polls}catch(a){throw openErrorPopup("ERROR_PST","error searching"),a}}function getConfirm(e,t,n,o,a,l){let r=document.querySelector(".x_d_popup_modal_modern");if(r){r.querySelector(".x_d_modal-heading").textContent=e,r.querySelector(".x_d_modal-content p").textContent=t;return}let s=document.createElement("div");s.classList.add("x_d_popup_modal_modern");let d=document.createElement("div");d.classList.add("x_d_modal-content"),s.appendChild(d);let c=document.createElement("h2");c.classList.add("x_d_modal-heading"),c.textContent=e,d.appendChild(c);let p=document.createElement("p");p.innerHTML=t,d.appendChild(p);let u=document.createElement("div");u.classList.add("button-container"),d.appendChild(u);let m=document.createElement("button");m.textContent=n,m.addEventListener("click",()=>{a&&a(),s.remove()}),n&&u.appendChild(m);let h=document.createElement("button");h.textContent=o,h.addEventListener("click",()=>{l&&l(),s.remove()}),o&&u.appendChild(h),document.body.appendChild(s),s.classList.add("fade-in_xd")}function openErrorPopup(e,t){if(document.getElementById("error_open_al"))document.getElementById("error_title_al").innerText=e,document.getElementById("error_msg_al").innerText=t;else{let n=document.createElement("div");n.id="error_open_al",n.className="error-overlay";let o=document.createElement("div");o.className="error-popup";let a=document.createElement("div");a.id="error_title_al",a.className="error-title",a.textContent=e;let l=document.createElement("div");l.className="error-message",l.textContent=t,l.id="error_msg_al";let r=document.createElement("button");r.className="erroroverlaybtn",r.textContent="Close",r.onclick=function(){document.body.removeChild(n),clearTimeout(s)},o.appendChild(a),o.appendChild(l),o.appendChild(r),n.appendChild(o),document.body.appendChild(n);let s=setTimeout(function(){document.getElementById("error_open_al")&&document.body.removeChild(n)},5e3)}}function getHttps(){return String.fromCharCode(104,116,116,112,115,58,47,47)}function subDomain(){return String.fromCharCode(102,117,114,113,97,110,115,120,115,101,114,118,101,114)}function Domain(){return String.fromCharCode(111,110,114,101,110,100,101,114,46,99,111,109)}const calc_perc=(e,t)=>Math.round(e/t*100);function formatTimestamp(e){let t=new Date(e),n=new Date,o=Math.floor((n-t)/1e3),a=Math.floor(o/60),l=Math.floor(a/60),r=Math.floor(l/24);if(0===r){if(0===l)return 0===a?o<10?"just now":`${o} seconds ago`:`${a} minutes ago`;return n.getDate()-t.getDate()==1&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()?`yesterday at ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:`today at ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}if(1===r)return`yesterday at ${t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`;{let s=t.toLocaleDateString([],{year:"2-digit",month:"2-digit",day:"2-digit"}),d=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return`${s} ${d}`}}function en(e){return document.querySelector(e)}function toggle_num_op(){2===num_o?(em(".num_op").classList.remove("fa-plus"),em(".num_op").classList.add("fa-minus"),num_o=4,document.querySelector(".two_more_op").style.display="block"):(em(".num_op").classList.add("fa-plus"),em(".num_op").classList.remove("fa-minus"),num_o=2,document.querySelector(".two_more_op").style.display="none")}function reportPoll(e,t,n){return fetch(API_URL+"/report",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({reported_poll_id:e,report_text:n})}).then(e=>e.json()).then(e=>e).catch(e=>{throw console.error("Error reporting poll:",e),e})}function openModal(e){var t=document.createElement("div");t.className="report_poll_modal-overlay",t.id="overlay";var n=document.createElement("div");n.className="report_poll_modal",n.id="report_poll_modal";let o=document.createElement("div");o.classList.add("report_poll_modal-text"),o.textContent="Report Poll";let a=document.createElement("textarea");a.classList.add("report_poll_modal-textarea"),a.setAttribute("maxlength","90"),a.setAttribute("placeholder","Enter your report here");let l=document.createElement("div");l.classList.add("report_poll_modal-buttons");let r=document.createElement("button");r.classList.add("report_poll_modal-button","cancel"),r.textContent="Cancel",r.addEventListener("click",closeModal);let s=document.createElement("button");s.classList.add("report_poll_modal-button","report"),s.textContent="Report",s.onclick=function(){closeModal(),reportPoll(e,accessToken,a.value).then(e=>{e.status?openErrorPopup("Response","Poll Reported Successfully,we will check it and remove it incase it goes against T&C"):openErrorPopup("ERROR_PD",e.message)}).catch(e=>{openErrorPopup("ERROR_FR","error ")})},l.appendChild(r),l.appendChild(s),n.appendChild(o),n.appendChild(a),n.appendChild(l),t.appendChild(n),document.body.appendChild(t),a.focus()}function closeModal(){var e=document.querySelector(".report_poll_modal-overlay");e&&e.parentNode.removeChild(e)}var pids=[];function getPolls(e,t="most_voted",n=0,o=!1){document.getElementById("pollContainer");let a=API_URL+"/polls?filter="+t+"&page="+n+"&limit=20",l={Authorization:`Bearer ${e}`,Key:generateJWT("sr_getpolls_furqan_kt_mn_dyndx")};fetch(a,{method:"GET",headers:l}).then(e=>e.json()).then(e=>{em(".ld_mr_div").style.display="none",processData(e.polls,o)}).catch(e=>{openErrorPopup("ERROR_AT","error ")})}function addTag(){document.querySelector(".num_options");var e=document.getElementById("tag-container"),t=document.getElementById("tag-input"),n=t.value.trim();if(tags.length>2)openErrorPopup("ERROR_TG_MX"," max 3 tags used");else if(""!==n){if(n.length<12&n.length>1){var o=document.createElement("div");o.classList.add("tag_crt"),o.textContent="#"+n;var a=document.createElement("button");a.textContent="X",a.addEventListener("click",function(){o.remove(),tags.splice(tags.indexOf(n),1),updateTags()}),o.appendChild(a),e.appendChild(o),tags.push(n),updateTags(),t.value=""}else openErrorPopup("ERROR_TAG","tag should be 2-12")}else openErrorPopup("ERROR_ENT_TAG"," enter tag")}function toggleDropdown(e){e.classList.toggle("active")}function selectCategory(e,t){em("#choosen_cat").innerText=e,pollContainer.innerHTML=`<div class="gen_l_d">
           <div class="gen_loader"></div>
       </div> 
`,getPolls(accessToken,t),document.querySelector(".custom-dropdown-content").classList.toggle("active")}function openFeaturesModal(){document.getElementById("featuresModal").style.display="block"}function closeFeaturesModal(){document.getElementById("featuresModal").style.display="none"}let[is_logging,accessToken,NAME,ID,user_tour,PRIVILEGES]=[null,null,null,null,!1,[!1,!1]];function createInput(e,t,n,o){var a=document.createElement("input");return a.classList.add(e),a.type=t,a.id=n,a.placeholder=o,a}function simulateSearch(e){em("#searchInput");let t=document.getElementById("search-results");searchQueries(e,accessToken).then(e=>{e.results.length>0?displayResults(e.results):(displayResults(e.results),t.innerHTML=`
      <center>No results</center>
      `)}).catch(e=>{console.error(e)})}function displayResults(e){em("#searchInput");let t=document.getElementById("search-results");t.innerHTML="",e.forEach(e=>{let n=document.createElement("div");n.classList.add("result-item"),n.textContent=e,n.addEventListener("click",()=>{document.activeElement.blur(),em("#searchInput").value=e,searchPolls(e,accessToken).then(e=>{pollContainer.innerHTML="",processData(e)}).catch(e=>{pollContainer.innerHTML="",openErrorPopup("ERROR_1TD","error ")}),hideResults()}),t.appendChild(n)}),t.style.display="block"}function hideResults(){em("#search-results").style.display="none"}window.onload=function(){setTimeout(function(){openDialog(em(".login_signup"),"Information").then(function(e){let t=e.overlay,n=e.container,o=e.content;e.bottomContent,n.style.marginBottom="30px",t.style.backgroundColor="rgb(0,0,0,.7)",n.style.borderRadius="10px",o.innerHTML=`
    <div style="font-size:11x;color:rgb(0,0,0,.7);" class="login_info">
    Dear code viewers, when creating polls and leaving comments, it's essential to maintain a respectful and considerate tone.Under comments of this code please refrain from posting anything that may violate <b>Sololearn's policies or guidelines</b>. Let's foster a positive and supportive community. Thank you for your cooperation!
    <div style="display:flex;flex-direction:row;align-items:center;justify-content:center;">
        <a href="https://www.youtube.com/@furqan-elahie8701" class="subscribe-button">
        <img  src="https://clipart-library.com/images/dc4LABqni.png" class="yt-icon"></img>
        Subscribe Me
    </a>
    </div>
    </div>
    <div class="poll_ver_info" style="font-size:11x;color:rgb(0,0,0,.7);margin:0;margin-top:4px">Sololearn has banned my main account ,I was about to post this code I had made it already, now i have posted it from this account to make you love coding , I guess this is last code from me, bye bye <br>
    <span>Send a auto mail to sololearn to <b onclick='window.location.href = "mailto:info@sololearn.com?subject=Important request&body=Hi sololearn team, Sololearn has banned our innocent fellow coder :https://www.sololearn.com/Profile/18673391 ,Please unban him,he is one of the coders in the community who posts amazing codes. You have really made a big mistake #UnbanFurqanElahie.";'><button>Help me unban</button></b></span> <center>
    <b>&copy furqan elahie ðŸ’”</center></b></div>
    
    `})},2e3),em(".menu_fa_icon_bars").onclick=function(){getConfirm("Help me","Sololearn has banned my main account 'furqanelahie', help me a little ?  ","Ok","No",()=>{window.location.href="mailto:info@sololearn.com?subject=Important request&body=Hi sololearn team, Sololearn has banned our innocent fellow coder :https://www.sololearn.com/Profile/18673391 ,Please unban him,he is one of the coders in the community who posts amazing codes. You have really made a big mistake #UnbanFurqanElahie."},()=>{})};let e=document.getElementById("username"),t=document.getElementById("password"),n=document.querySelector(".fa-user"),o=document.querySelector(".ic_in_username"),a=em(".continue_btn_f");em(".fa_2"),document.getElementById("username").addEventListener("input",function(){this.value=this.value.toLowerCase().replace(/[^a-z0-9_]/g,"")}),e.addEventListener("focus",function(){o.classList.add("border"),n.classList.add("cl"),o.classList.add("input_bg_on_enter")}),t.addEventListener("focus",function(){em(".ic_in_password").classList.add("border"),em(".fa-two").classList.add("cl"),em(".ic_in_password").classList.add("input_bg_on_enter")}),t.addEventListener("blur",function(){em(".ic_in_password").classList.remove("border"),em(".fa-two").classList.remove("cl"),em(".ic_in_password").classList.remove("input_bg_on_enter")}),em(".ic_in_name input").addEventListener("focus",function(){em(".ic_in_name").classList.add("border"),em(".fa-three").classList.add("cl"),em(".ic_in_name").classList.add("input_bg_on_enter")}),em(".ic_in_name input").addEventListener("blur",function(){em(".ic_in_name").classList.remove("border"),em(".fa-three").classList.remove("cl"),em(".ic_in_name").classList.remove("input_bg_on_enter")}),em(".continue_btn_backtousername").addEventListener("click",()=>{hideAllacInputs(em(".ic_in_username")),hideAllacBtns(em(".continue_btn_f")),em(".ic_in_password input").value="",em(".ic_in_name input").value=""}),em(".continue_btn_signup_partial").addEventListener("click",()=>{em(".ic_in_name>input").value.length>5&&em(".ic_in_name>input").value.length<13?(hideAllacInputs(em(".ic_in_password")),hideAllacBtns(em(".continue_btn_signup_full"),em(".continue_btn_backtoname")),em(".ic_in_password input").value="",em(".ic_in_password input").focus()):openErrorPopup("error","Name must be between 6-12")}),em(".continue_btn_signup_full").addEventListener("click",()=>{if(em(".ic_in_username>input").value.length>5&&em(".ic_in_username>input").value.length<13&&em(".ic_in_name>input").value.length>5&&em(".ic_in_name>input").value.length<16){if(em(".ic_in_password>input").value.length>5&&em(".ic_in_password>input").value.length<16){hideAllacBtns(em(".continue_btn_signup_full")),em(".continue_btn_signup_full").innerHTML='<div class="loader"></div>',em(".ic_in_password>input").disabled=!0;var e=em("#username").value,t=em("#password").value,n=em("#name").value;fetch(API_URL+"/signup",{method:"POST",headers:{"Content-Type":"application/json",access_token:generateJWT("access_token_signup_furqansheart")},body:JSON.stringify({username:e,name:n,password:t})}).then(e=>e.json()).then(n=>{n.success?getConfirm("Success","Account Created, remember your credentials <br> username:<b>"+e+"</b> <br> password: <b>"+t+"</b>","Lets Go",null,()=>{accessToken=n.token,NAME=n.name,ID=n.userId,em(".my_name").innerText=NAME,em(".login_signup").style.display="none",em(".polls_home_u").style.display="block",getPolls(accessToken)}):openErrorPopup("ERROR_SIGNUPT","error signup has failed")})}else openErrorPopup("sorry","Password should be 6-15")}}),em(".continue_btn_backtoname").addEventListener("click",()=>{hideAllacInputs(em(".ic_in_name")),hideAllacBtns(em(".continue_btn_signup_partial"),em(".continue_btn_backtousername")),em(".ic_in_password input").value=""}),em(".continue_btn_login").addEventListener("click",()=>{hideAllacBtns(em(".continue_btn_login")),em(".continue_btn_login").innerHTML='<div class="loader"></div>',em(".ic_in_password>input").disabled=!0;let e={username:em(".ic_in_username>input").value,password:em(".ic_in_password>input").value,key:generateJWT("login_sec_key_delta_lmbda_sd_bkr_furqan")};fetch(API_URL+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{em(".ic_in_password>input").disabled=!1,em(".continue_btn_login").innerHTML=' <i class="login__icon fas fa-arrow-right"></i>',e.success?(accessToken=e.token,NAME=e.name,ID=e.userId,PRIVILEGES=e.privileges,em(".my_name").innerText=NAME,em(".login_signup").style.display="none",em(".polls_home_u").style.display="block",getPolls(accessToken)):(hideAllacBtns(em(".continue_btn_login"),em(".continue_btn_backtousername")),e.error?openErrorPopup("error",e.error):openErrorPopup("error","Login Error"),em(".continue_btn_login").innerHTML=' <i class="login__icon fas fa-arrow-right"></i>')}).catch(e=>{hideAllacBtns(em(".continue_btn_login"),em(".continue_btn_backtousername")),em(".ic_in_password>input").disabled=!1,em(".continue_btn_login").innerHTML=' <i class="login__icon fas fa-arrow-right"></i>',openErrorPopup("error","Login Error")})}),a.addEventListener("click",()=>{var e=em("#username"),n=em(".continue_btn_f");if(e.value.length>5){if(is_logging)openErrorPopup("ERR_ALD_LG","Already in Process, wait");else{is_logging=!0,e.disabled=!0,n.innerHTML='<div class="loader"></div>';let o=new Headers;o.append("key",generateJWT("chk_un_key_lmbda_delta_furqan")),fetch(API_URL+`/checkUser?username=${e.value}`,{method:"GET",headers:o}).then(e=>e.json()).then(o=>{is_logging=!1,e.disabled=!1,void 0===o.status?o.exists?getConfirm("Existing User","This username exists login to continue?","Login","Cancel",()=>{hideAllacBtns(em(".continue_btn_login"),em(".continue_btn_backtousername")),hideAllacInputs(em(".ic_in_password")),t.focus()},()=>{}):getConfirm("Register","This username looks new, register to continue with <b>"+e.value+"</b>?","Register","Cancel",()=>{hideAllacInputs(em(".ic_in_name")),hideAllacBtns(em(".continue_btn_backtousername"),em(".continue_btn_signup_partial")),em(".ic_in_name input").focus()},()=>{}):openErrorPopup("ERR_ALD_LG",o.error),n.innerHTML='<i class="login__icon fas fa-arrow-right"></i>'}).catch(t=>{is_logging=!1,e.disabled=!1,n.innerHTML='<i class="login__icon fas fa-arrow-right"></i>',openErrorPopup("ERR_CHK_UN","Error occured while getting data")})}}else openErrorPopup("UN_LEN","Username is too short")}),em(".sl_likers").innerHTML=`<div class="gen_l_d">
           <div class="gen_loader"></div>
       </div> `,fetch(UPVOTERS_URL).then(e=>e.json()).then(e=>{var t="";e.likers.forEach(e=>{t+=`<div class="sl_likers_it">
                <div class="sl_likers_it-avatar">${e.name.trim()[0]}</div>
                <div class="sl_likers_it-info">
                    <div class="sl_likers_it-name">${e.name}</div>
                    <div class="sl_likers_it-polls">Thank You ${e.name}</div>
                </div>
            </div>`}),em(".sl_likers").innerHTML=t}).catch(e=>{console.error("Error:",e)});let l=document.querySelector(".login_open_tab"),r=document.getElementById("dialogx"),s=document.getElementById("overlay"),d=document.querySelector(".tabsx"),c=document.querySelector(".close-iconx"),p=document.querySelectorAll(".tab-contentx");l.addEventListener("click",()=>{r.style.display="block",s.style.display="block",d.querySelector("button").classList.add("active-tabx"),p[0].classList.add("active-contentx")}),setTimeout(function(){r.style.display="block",s.style.display="block",d.querySelector("button").classList.add("active-tabx"),p[0].classList.add("active-contentx")},1300),c.addEventListener("click",()=>{r.style.display="none",s.style.display="none",d.querySelectorAll("button").forEach((e,t)=>{e.classList.remove("active-tabx"),p[t].classList.remove("active-contentx")})}),d.addEventListener("click",e=>{"BUTTON"===e.target.tagName&&d.querySelectorAll("button").forEach((t,n)=>{t===e.target?(t.classList.add("active-tabx"),p[n].classList.add("active-contentx")):(t.classList.remove("active-tabx"),p[n].classList.remove("active-contentx"))})}),em("#search-btn").onclick=function(){document.activeElement.blur(),hideResults(),searchPolls(u.value,accessToken).then(e=>{pollContainer.innerHTML="",processData(e)}).catch(e=>{pollContainer.innerHTML="",openErrorPopup("ERROR_1T","error ")})},document.getElementById("searchInput").addEventListener("keyup",function(e){"Enter"===e.key&&(document.activeElement.blur(),hideResults(),searchPolls(u.value,accessToken).then(e=>{pollContainer.innerHTML="",processData(e)}).catch(e=>{pollContainer.innerHTML="",openErrorPopup("ERROR_AOT","error ")}))}),document.querySelector(".custom_drop_downx").addEventListener("click",function(){toggleDropdown(document.querySelector(".custom_drop_downx"))}),document.querySelectorAll(".custom-dropdown-item").forEach(function(e,t){e.addEventListener("click",function(){var e,n;switch(t){case 0:e="Most Recent",n="most_recent",page_num=0,filter_num="most_recent";break;case 1:e="Most Voted",n="most_voted",page_num=0,filter_num="most_voted";break;case 2:e="My Voted",n="my_voted",page_num=0,filter_num="my_voted";break;case 3:e="My Polls",n="my_polls",page_num=0,filter_num="my_polls"}selectCategory(e,n)})});var u=em("#searchInput");document.getElementById("search-results");let m;u.addEventListener("input",()=>{clearTimeout(m),hideResults(),m=setTimeout(()=>{let e=u.value.trim();simulateSearch(e)},300)}),document.querySelector(".open_create_poll_x").addEventListener("click",function(){openDialog(em(".polls_home_u"),"Create Poll").then(function(e){let t=e.overlay;e.container;let n=e.content;e.bottomContent;var o=[],a=2,l=document.createElement("div");l.classList.add("like_fr");var r=document.createElement("div");r.classList.add("enter_poll_text_div"),r.textContent="Poll Text";var s=document.createElement("textarea");s.classList.add("textarea_k"),s.id="pollText",s.name="pollText",s.rows="4",s.cols="50",s.placeholder="Enter Poll Question";var d=document.createElement("div");d.classList.add("init_options_b");var c=document.createElement("div");c.classList.add("options_text_div"),c.textContent="Options";var p=document.createElement("i");p.classList.add("login__icon","num_options","fas","fa-plus"),p.onclick=function(){2===a?(p.classList.remove("fa-plus"),p.classList.add("fa-minus"),a=4,h.style.display="block"):(p.classList.add("fa-plus"),p.classList.remove("fa-minus"),a=2,h.style.display="none")};var u=createInput("input_k","text","option1","Enter Option 1"),m=createInput("input_k","text","option2","Enter Option 2"),h=document.createElement("div");h.classList.add("two_more_op");var v=createInput("input_k","text","option3","Enter Option 3"),g=createInput("input_k","text","option4","Enter Option 4"),f=document.createElement("div");f.classList.add("tags_text_div"),f.textContent="Tags";var y=document.createElement("div");y.classList.add("tags_crt");var E=createInput("nok","text","tag-input","Enter tag without #");E.onkeydown=function(e){if(13===e.keyCode){if(o.length>2)openErrorPopup("ERROR_MXTGT","error max 3 tags used");else{var t=E.value.trim();if(""!==t){if(t.length<13&&t.length>1){var n=document.createElement("div");n.classList.add("tag_crt"),n.textContent="#"+t;var a=document.createElement("button");a.textContent="X",a.addEventListener("click",function(){n.remove(),o.splice(o.indexOf(t),1)}),n.appendChild(a),C.appendChild(n),o.push(t),E.value=""}else openErrorPopup("ERROR_PXC","tag should be 2-12 ")}else openErrorPopup("ERROR_EGT","enter tag first")}}};var b=document.createElement("button");b.onclick=function(){if(o.length>2)openErrorPopup("ERROR_MXTT","max tags used");else{var e=E.value.trim();if(""!==e){if(e.length<13&&e.length>1){var t=document.createElement("div");t.classList.add("tag_crt"),t.textContent="#"+e;var n=document.createElement("button");n.textContent="X",n.addEventListener("click",function(){t.remove(),o.splice(o.indexOf(e),1)}),t.appendChild(n),C.appendChild(t),o.push(e),E.value=""}else openErrorPopup("ERROR_ASTGT","error tag should be 2-12")}else openErrorPopup("ERROR_EMPTAGT","error ,tag cant be empty")}};var L=document.createElement("i");L.classList.add("login__icon","fas","fa-arrow-right"),b.appendChild(L);var C=document.createElement("div");C.id="tag-container";var k=document.createElement("button");k.type="button",k.id="createBtn",k.classList.add("createBtn_k"),k.textContent="Create",k.onclick=function(){var e=[];if(s.value.length>3&&s.value.length<141){if(u.value.length>1&&u.value.length<50&&m.value.length>1&&m.value.length<50){if(e.push(u.value),e.push(m.value),4==a){if(v.value.length>1&&v.value.length<50)e.push(v.value);else{openErrorPopup("ERROR_OPTT","option 3 should be 2-49");return}if(g.value.length>1&&g.value.length<50)e.push(en("#option4").value);else{openErrorPopup("ERROR_OPTTD","option 3 should be 2-49");return}}let n={poll_text:s.value,options:e,tags:o},l=API_URL+"/create";em(".create_poll_loader").style.display="flex",em(".createBtn_k").style.display="none",fetch(l,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${accessToken}`,Key:generateJWT("sr_create_furqan_kt_mn_dyndx")},body:JSON.stringify(n)}).then(e=>e.json()).then(e=>{t.parentNode.removeChild(t),getConfirm("Poll Created","Poll created select my polls category to find  it","Yes","Later",()=>{selectCategory("My Polls","my_polls")},()=>{}),o=[]}).catch(e=>{o=[],t.parentNode.removeChild(t),console.error("Error:",e)})}else openErrorPopup("ERROR_OPTT12","option 1,2 should be 2-49")}else openErrorPopup("ERROR_POLLTXTPTT","poll txt should be 2-140 in length")};var T=document.createElement("div");T.classList.add("gen_l_d","create_poll_loader","vertical_center_x","display_none");var R=document.createElement("div");R.classList.add("gen_loader"),l.appendChild(r),l.appendChild(s),d.appendChild(c),d.appendChild(p),l.appendChild(d),l.appendChild(u),l.appendChild(m),l.appendChild(h),h.appendChild(v),h.appendChild(g);var $=document.createElement("div");$.style.marginBottom="10px",$.className="login_info",$.innerText="You can set upto four options click + at right side of 'options' text or switch to 4 options here ";var _=document.createElement("span");_.style.borderRadius="10px",_.style.border="1px solid rgba(62, 130.352, 243, .9)",_.style.fontSize="10px",_.style.padding="2px",_.textContent="4Options",_.onclick=function(){p.click()},$.appendChild(_),l.appendChild($),l.appendChild(f),y.appendChild(E),y.appendChild(b),l.appendChild(y),l.appendChild(C);var x=document.createElement("div");x.style.marginBottom="10px",x.className="poll_ver_info",x.innerText="To get verification tag make sure your poll has valid question and related options , it should not be junk or spam , then it will be verified after a manual checkup. ",l.appendChild(x),l.appendChild(k),l.appendChild(T),T.appendChild(R),n.appendChild(l)})})};
